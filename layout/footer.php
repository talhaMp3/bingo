<!-- footer section -->
<!-- footer section start -->
<section class="footer-section px-xl-20 px-lg-10 px-sm-7 bg-n100">
    <div class="container-fluid">
        <div class="row g-lg-0 g-6 justify-content-lg-between">
            <div class="col-xxl-8 col-12">
                <div class="p-4xl-20 p-xl-10 p-lg-8 p-6 border border-n0-1 bg-n0-5">
                    <div class="row row-cols-lg-6 g-6 justify-content-between">
                        <div class="col-lg-4 col-auto">
                            <div class="mb-lg-6 mb-4">
                                <div class="footer-logo mb-lg-4 mb-2">
                                    <img src="assets/images/logo-white.png" alt="logo" />
                                </div>
                                <p class="text-n0 text-base fw-normal ch-40">
                                    elling premium products, designed to elevate your everyday
                                    experience
                                </p>
                            </div>

                            <ul
                                class="d-flex align-items-center gap-2 mb-lg-10 mb-md-8 mb-6">
                                <li>
                                    <a
                                        href="#"
                                        class="icon-40px text-xl text-n0 bg-n2-8 box-style box-secondary2"><i class="ph-fill ph-facebook-logo"></i></a>
                                </li>
                                <li>
                                    <a
                                        href="#"
                                        class="icon-40px text-xl text-n0 bg-n2-8 box-style box-secondary2"><i class="ph-fill ph-twitter-logo"></i></a>
                                </li>
                                <li>
                                    <a
                                        href="#"
                                        class="icon-40px text-xl text-n0 bg-n2-8 box-style box-secondary2"><i class="ph-fill ph-instagram-logo"></i></a>
                                </li>
                                <li>
                                    <a
                                        href="#"
                                        class="icon-40px text-xl text-n0 bg-n2-8 box-style box-secondary2"><i class="ph-fill ph-youtube-logo"></i></a>
                                </li>
                            </ul>

                            <ul class="d-flex align-items-center gap-2">
                                <li><img src="assets/images/visa.png" alt="visa" /></li>
                                <li>
                                    <img src="assets/images/shopify.png" alt="shopify" />
                                </li>
                                <li>
                                    <img
                                        src="assets/images/mastercard.png"
                                        alt="mastercard" />
                                </li>
                                <li><img src="assets/images/paypal.png" alt="paypal" /></li>
                            </ul>
                        </div>
                        <div class="col-auto">
                            <h4 class="text-animation-word text-n0 mb-lg-6 mb-4">Shop</h4>
                            <ul class="d-grid gap-lg-4 gap-2">
                                <li>
                                    <a
                                        href="shop.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Bikes</a>
                                </li>
                                <li>
                                    <a
                                        href="shop.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Accessories</a>
                                </li>
                                <li>
                                    <a
                                        href="shop.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Clothing</a>
                                </li>
                                <li>
                                    <a
                                        href="shop.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Tool</a>
                                </li>
                                <li>
                                    <a
                                        href="shop.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Hydration</a>
                                </li>
                                <li>
                                    <a
                                        href="shop.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Equipment</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col-auto">
                            <h4 class="text-animation-word text-n0 mb-lg-6 mb-4">
                                Pages
                            </h4>
                            <ul class="d-grid gap-lg-4 gap-2">
                                <li>
                                    <a
                                        href="index.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Home</a>
                                </li>
                                <li>
                                    <a
                                        href="about-us.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">About Us</a>
                                </li>
                                <li>
                                    <a
                                        href="services.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Services</a>
                                </li>
                                <li>
                                    <a
                                        href="shop.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Shop</a>
                                </li>
                                <li>
                                    <a
                                        href="blogs.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">News</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col-lg-3 col-auto">
                            <h4 class="text-animation-word text-n0 mb-lg-6 mb-4">
                                Support
                            </h4>
                            <ul class="d-grid gap-lg-4 gap-2">
                                <li>
                                    <a
                                        href="faqs.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">FAQs</a>
                                </li>
                                <li>
                                    <a
                                        href="warranty-policy.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Warranty Policy</a>
                                </li>
                                <li>
                                    <a
                                        href="shipping-delivery.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Shipping & Delivery</a>
                                </li>
                                <li>
                                    <a
                                        href="how-to-order.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">How to Order</a>
                                </li>
                                <li>
                                    <a
                                        href="exchange-return.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Exchange $ Return Policy</a>
                                </li>
                                <li>
                                    <a
                                        href="terms-of-offers.html"
                                        class="text-n0 text-base fw-normal hover-text-secondary2">Terms of Offers</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xxl-4">
                <div class="footer-map">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d42292.8315719577!2d-106.56972643793605!3d52.084128685484096!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5304f24dba300731%3A0x459e39b334a99d2c!2sCostco%20Wholesale!5e1!3m2!1sen!2sbd!4v1726546261198!5m2!1sen!2sbd"
                        style="border: 0"
                        allowfullscreen=""
                        loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </div>
        <div class="d-between flex-wrap-reverse py-lg-6 py-4">
            <p class="text-n0 text-base fw-normal">
                Copyright Â© <span class="currentYear"></span>
                <a href="index.html" class="text-secondary2">CycleCity</a>. All
                Rights Reserved
            </p>
            <ul class="d-flex align-items-center gap-lg-6 gap-3">
                <li>
                    <a
                        href="privacy-policy.html"
                        class="text-n0 text-base fw-normal hover-text-secondary2">Privacy Policy</a>
                </li>
                <li>
                    <a
                        href="terms-conditions.html"
                        class="text-n0 text-base fw-normal hover-text-secondary2">Terms & Conditions</a>
                </li>
            </ul>
        </div>
    </div>
</section>
<!-- footer section end -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    $(document).ready(function() {
        // Add to wishlist function (for use in other pages)
        window.addToWishlist = function(productId, button) {
            $.ajax({
                url: 'functions/whishlist.php',
                type: 'POST',
                data: {
                    action: 'add',
                    product_id: productId
                },
                dataType: 'json',
                beforeSend: function() {
                    $(button).addClass('btn-loading').html('<i class="fas fa-spinner fa-spin"></i> Adding...');
                },
                success: function(response) {
                    if (response.success) {
                        $(button).removeClass('btn-outline-danger addToWishlist btn-loading')
                            .addClass('btn-danger removeFromWishlist')
                            .html('<i class="ph-heart ph-fill"></i>');
                        updateWishlistCount();
                        showToast('success', response.message);
                    } else {
                        $(button).removeClass('btn-loading').html('<i class="ph-heart ph-fill"></i>');
                        showToast('error', response.message);
                    }
                },
                error: function() {
                    $(button).removeClass('btn-loading').html('<i class="ph-heart ph-fill"></i>');
                    showToast('error', 'An error occurred while adding to wishlist');
                }
            });
        };

        // Add to wishlist event
        $(document).on('click', '.addToWishlist', function() {
            var productId = $(this).data('product');
            addToWishlist(productId, this);
        });

        // Remove from wishlist
        $(document).on('click', '.removeFromWishlist', function() {
            var productId = $(this).data('product');
            var button = $(this);
            var container = button.closest('.wishlist-item-container');
            Swal.fire({
                title: "Are you sure you want to remove this item from your wishlist?",
                showDenyButton: true,
                showCancelButton: true,
                confirmButtonText: "Remove",
                denyButtonText: `Don't remove`
            }).then((result) => {
                /* Read more about isConfirmed, isDenied below */
                if (result.isConfirmed) {
                    // if (confirm('Are you sure you want to remove this item from your wishlist?')) {
                    $.ajax({
                        url: 'functions/whishlist.php',
                        type: 'POST',
                        data: {
                            action: 'remove',
                            product_id: productId
                        },
                        dataType: 'json',
                        beforeSend: function() {
                            button.addClass('btn-loading').html('<i class="fas fa-spinner fa-spin"></i> Removing...');
                        },
                        success: function(response) {
                            if (response.success) {
                                if (container.length) {
                                    // On wishlist page - remove the item
                                    container.fadeOut(300, function() {
                                        $(this).remove();
                                        checkEmptyWishlist();
                                    });
                                } else {
                                    // On other pages - change button back
                                    button.removeClass('btn-danger removeFromWishlist btn-loading')
                                        .addClass('btn-outline-danger addToWishlist')
                                        .html('<i class="ph-heart ph-fill"></i>');
                                }
                                updateWishlistCount();
                                showToast('success', response.message);
                            } else {
                                button.removeClass('btn-loading').html('<i class="ph-heart ph-fill"></i>');
                                showToast('error', response.message);
                            }
                        },
                        error: function() {
                            button.removeClass('btn-loading').html('<i class="ph-heart ph-fill"></i>');
                            showToast('error', 'An error occurred while removing from wishlist');
                        }
                    });
                    // }
                    Swal.fire("Removed!", "", "success");
                } else if (result.isDenied) {
                    Swal.fire("Changes are not saved", "", "info");
                }
            });

        });

        // Clear entire wishlist
        $('#clearWishlist').click(function() {
            if (confirm('Are you sure you want to clear your entire wishlist? This action cannot be undone.')) {
                $.ajax({
                    url: 'functions/whishlist.php',
                    type: 'POST',
                    data: {
                        action: 'clear'
                    },
                    dataType: 'json',
                    beforeSend: function() {
                        $('#clearWishlist').addClass('btn-loading').html('<i class="fas fa-spinner fa-spin"></i> Clearing...');
                    },
                    success: function(response) {
                        if (response.success) {
                            location.reload();
                        } else {
                            $('#clearWishlist').removeClass('btn-loading').html('<i class="fas fa-trash"></i> Clear All');
                            showToast('error', response.message);
                        }
                    },
                    error: function() {
                        $('#clearWishlist').removeClass('btn-loading').html('<i class="fas fa-trash"></i> Clear All');
                        showToast('error', 'An error occurred while clearing wishlist');
                    }
                });
            }
        });

        // Placeholder: Add to cart button
        $('.addToCart').click(function() {
            var productId = $(this).data('product');
            showToast('info', 'Add to cart functionality - implement your cart logic here');
            console.log('Adding product ' + productId + ' to cart');
        });
    });

    // Update wishlist count
    function updateWishlistCount() {
        $.ajax({
            url: 'functions/whishlist.php',
            type: 'GET',
            data: {
                action: 'count'
            },
            dataType: 'json',
            success: function(response) {
                if (response.success) {
                    $('#wishlistCount').text(response.count);
                    if (response.count > 0) {
                        $('#wishlistCount').show();
                    } else {
                        $('#wishlistCount').hide();
                    }
                }
            },
            error: function(xhr, status, error) {
                console.error("Error updating wishlist:", error);
            }
        });
    }

    // Check wishlist emptiness
    function checkEmptyWishlist() {
        if ($('.wishlist-item-container').length === 0) {
            setTimeout(function() {
                location.reload();
            }, 500);
        }
    }

    // SweetAlert Toast Message
    function showToast(type, message) {
        Swal.fire({
            toast: true,
            position: 'top-end',
            icon: type,
            title: message,
            showConfirmButton: false,
            timer: 3000,
            timerProgressBar: true,
            didOpen: (toast) => {
                toast.addEventListener('mouseenter', Swal.stopTimer);
                toast.addEventListener('mouseleave', Swal.resumeTimer);
            }
        });
    }

    // Global Wishlist Checker (for use in product pages or elsewhere)
    window.checkWishlistStatus = function(productId, callback) {
        $.ajax({
            url: 'wishlist.php',
            type: 'POST',
            data: {
                action: 'check',
                product_id: productId
            },
            dataType: 'json',
            success: function(response) {
                if (response.success && callback) {
                    callback(response.in_wishlist);
                }
            }
        });
    };
</script>
</body>

</html>